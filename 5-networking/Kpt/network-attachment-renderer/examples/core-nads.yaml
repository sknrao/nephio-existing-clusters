# Example rendered NADs for Core cluster
# These would be generated by the KRM function from the intents

apiVersion: k8s.cni.cncf.io/v1
kind: NetworkAttachmentDefinition
metadata:
  name: core-ctrl-net
  namespace: free5gc
  annotations:
    nephio.org/source-intent: "control-plane-network-intent"
spec:
  config: |
    {
      "cniVersion": "0.3.1",
      "type": "macvlan",
      "master": "eth0",
      "mode": "bridge",
      "mtu": 1500,
      "ipam": {
        "type": "whereabouts",
        "range": "192.168.10.0/24",
        "exclude": [
          "192.168.10.1/32",
          "192.168.10.2/32",
          "192.168.10.3/32",
          "192.168.10.4/32",
          "192.168.10.5/32",
          "192.168.10.6/32",
          "192.168.10.7/32",
          "192.168.10.8/32",
          "192.168.10.9/32",
          "192.168.10.10/32"
        ],
        "gateway": "192.168.10.1",
        "log_file": "/var/log/whereabouts.log",
        "log_level": "debug"
      }
    }
---
apiVersion: k8s.cni.cncf.io/v1
kind: NetworkAttachmentDefinition
metadata:
  name: core-user-net
  namespace: free5gc
  annotations:
    nephio.org/source-intent: "user-plane-network-intent"
spec:
  config: |
    {
      "cniVersion": "0.3.1",
      "type": "macvlan",
      "master": "eth0",
      "mode": "bridge",
      "mtu": 1500,
      "ipam": {
        "type": "whereabouts",
        "range": "192.168.20.0/24",
        "exclude": [
          "192.168.20.1/32",
          "192.168.20.2/32",
          "192.168.20.3/32",
          "192.168.20.4/32",
          "192.168.20.5/32",
          "192.168.20.6/32",
          "192.168.20.7/32",
          "192.168.20.8/32",
          "192.168.20.9/32",
          "192.168.20.10/32"
        ],
        "gateway": "192.168.20.1",
        "log_file": "/var/log/whereabouts.log",
        "log_level": "debug"
      }
    }